<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<title>Login - EVM</title>
<th:block th:replace="~{layout :: head}"></th:block>
<link
	href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/styles.css}">
<style>
body {
	display: flex;
	align-items: center;
	justify-content: center;
	height: 100vh;
}

.form-signin {
	width: 100%;
	max-width: 400px;
	padding: 15px;
	margin: auto;
}
</style>
</head>

<body class="auth-bg">
	<main class="form-signin text-center">
		<div class="auth-card shadow-lg p-5 fade-in">
			<div class="mb-4">
				<i class="fas fa-calendar-alt fa-3x text-white"></i>
			</div>
			<h1 class="h3 mb-3 fw-bold text-white">Welcome Back</h1>

			<div th:if="${param.error}">
				<div
					th:switch="${session['SPRING_SECURITY_LAST_EXCEPTION'].class.simpleName}">

					<!-- ACCOUNT NOT APPROVED -->
					<div th:case="'DisabledException'" class="alert alert-warning">
						Your account is waiting for admin approval. Please wait.</div>

					<!-- WRONG USERNAME / PASSWORD -->
					<div th:case="'BadCredentialsException'" class="alert alert-danger">
						Invalid username or password.</div>

					<!-- FALLBACK -->
					<div th:case="*" class="alert alert-danger">Login failed.
						Please try again.</div>

				</div>
			</div>
			<div th:if="${param.logout}" class="alert alert-success">Logged
				out successfully.</div>
			<div th:if="${param.success}" class="alert alert-success">Registration
				successful!</div>

			<form th:action="@{/login}" method="post">
				<div class="form-floating mb-3">
					<input type="text" class="form-control" id="username"
						name="username" placeholder="Username" required> <label
						for="username">Username</label>
				</div>
				<div class="form-floating mb-3">
					<input type="password" class="form-control" id="password"
						name="password" placeholder="Password" required> <label
						for="password">Password</label>
				</div>
				<button class="w-100 btn btn-lg btn-primary mb-3 fw-bold"
					type="submit">Sign in</button>
			</form>
			<p class="text-white-50">
				New here? <a th:href="@{/register}" class="text-white fw-bold">Create
					Account</a>
			</p>
		</div>
	</main>
</body>

</html>